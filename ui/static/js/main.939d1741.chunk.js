(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{48:function(e,t,n){e.exports=n(67)},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),l=(n(53),n(7)),u=n(8),s=n(11),i=n(10),m=(n(54),n(55),function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"corner-ribbon bottom-left sticky blue shadow"},"Alpha")}}]),n}(a.Component)),h=n(19),f=(n(56),n(71)),d=n(70),v="UA-1988442-19",p={MENU:"MENU"},E=n(31),b=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onMenuClic=a.onMenuClic.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"onMenuClic",value:function(e){var t,n,a;t=p.MENU,n=e,a="Menu clic on "+e,E.a.event({category:t,action:n,label:a})}},{key:"render",value:function(){return r.a.createElement(f.a,{bg:"light",expand:"lg"},r.a.createElement(f.a.Brand,{href:"/",onClick:this.onMenuClic("logo")},"JardiCal"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(d.a.Link,{href:"/documents",onClick:this.onMenuClic("entr\xe9es")},"Entr\xe9es"))))}}]),n}(a.Component),g=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"jhome"},r.a.createElement("h1",null,"JardiCal"),r.a.createElement("p",null,"Retrouvez quand planter quoi, et quand r\xe9colter !"))}}]),n}(a.Component),j=n(73),k=n(47),y=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).data="",a.handleMonthsChange=a.handleMonthsChange.bind(Object(h.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(""===this.data){console.log("fetch json");var t=this;fetch("/garden.json").then((function(e){return e.json()})).then((function(n){t.data=n,console.log("data",n),e.forceUpdate()})).catch(console.log)}}},{key:"handleMonthsChange",value:function(e){var t=this;console.log("handleMonthsChange",e),this.bucket=[],this.ground=[],this.data.forEach((function(n){if(n.sowBucket){var a=!1;n.sowBucket.forEach((function(t){e.includes(t)&&(a=!0)})),a&&t.bucket.push(n.name)}if(n.sowGround){var r=!1;n.sowGround.forEach((function(t){e.includes(t)&&(r=!0)})),r&&t.ground.push(n.name)}})),this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{className:"jmonth"},r.a.createElement("div",{className:"selectMonth"},r.a.createElement("h1",null,"Par mois"),r.a.createElement("p",null,"Choisissez un ou plusieurs mois"),r.a.createElement(j.a,{type:"checkbox",defaultValue:[],className:"mb-2",onChange:this.handleMonthsChange},r.a.createElement(k.a,{value:1},"Janvier"),r.a.createElement(k.a,{value:2},"F\xe9vrier"),r.a.createElement(k.a,{value:3},"Mars"),r.a.createElement(k.a,{value:4},"Avril"),r.a.createElement(k.a,{value:5},"Mai"),r.a.createElement(k.a,{value:6},"Juin"),r.a.createElement(k.a,{value:7},"Juillet"),r.a.createElement(k.a,{value:8},"Ao\xfbt"),r.a.createElement(k.a,{value:9},"Septembre"),r.a.createElement(k.a,{value:10},"Octobre"),r.a.createElement(k.a,{value:11},"Novembre"),r.a.createElement(k.a,{value:12},"D\xe9cembre"))),r.a.createElement("div",{className:"showMonth"},"Semis en godets : ",this.bucket,r.a.createElement("br",null),"Semis en pleine terre : ",this.ground,r.a.createElement("br",null)))}}]),n}(a.Component),O=n(72),M=n(69),C=n(27),w=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"doc-choice"},r.a.createElement(M.a,{variant:"success",size:"sm mr-2 mt-2",title:this.props.doc.type},this.props.doc.nom,"\xa0",this.props.doc.type.map((function(e,t){return"fleur"===e?r.a.createElement(C.b,{key:t}):"fruit"===e?r.a.createElement(C.d,{key:t}):"l\xe9gume"===e?r.a.createElement(C.a,{key:t}):r.a.createElement(C.c,{key:t})}))))}}]),n}(a.Component),N=n(26),x=n.n(N),S=n(34),J=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"version",value:function(t,n){fetch("/version").then(function(){var a=Object(S.a)(x.a.mark((function a(r){var c;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=null,a.prev=1,a.next=4,r.json();case 4:c=a.sent,e.debug&&console.log("RESPONSE",c),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(1);case 10:if(r.ok){a.next=13;break}return n(),a.abrupt("return");case 13:t(c);case 14:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()).catch((function(t){e.debug&&console.log("ERR",t),n(t)}))}},{key:"getDocs",value:function(t,n,a){var r=e.objToQueryString(t);fetch("/api/v0/docs?".concat(r)).then(function(){var t=Object(S.a)(x.a.mark((function t(a){var r,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:if(r=t.sent,e.debug&&console.log("RESPONSE",r),a.ok){t.next=7;break}return c=r&&r.details||r&&r.message||a.status,t.abrupt("return",Promise.reject(c));case 7:n(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.debug&&console.log("ERR",t),a(t)}))}},{key:"objToQueryString",value:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}]),e}();J.debug=!1;var R=J,D=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={docs:null,errorMessage:null,infoMessage:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("fetch json"),this.searchDocs()}},{key:"searchDocs",value:function(){var e=this;R.getDocs({limit:10},(function(t){t.length?e.setState({docs:t,errorMessage:null,infoMessage:null}):e.setState({infoMessage:"aucun r\xe9sultat"})}),(function(t){e.setState({errorMessage:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"jdocs"},r.a.createElement("div",{className:"docsList"},this.state.errorMessage?r.a.createElement(O.a,{variant:"warning"},this.state.errorMessage):null,this.state.infoMessage?r.a.createElement(O.a,{variant:"info"},this.state.infoMessage):null,r.a.createElement("h1",null,"Entr\xe9es"),r.a.createElement("p",null,"Entr\xe9es li\xe9es au jardin"),this.state.docs&&this.state.docs.length?r.a.createElement("div",null,this.state.docs.map((function(e,t){return r.a.createElement(w,{key:t,index:t,doc:e})}))):null))}}]),n}(a.Component),U=n(45),A=n(5),B=(n(63),function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e;e=v,E.a.initialize(e),E.a.pageview(window.location.pathname+window.location.search)}},{key:"render",value:function(){return r.a.createElement(U.a,null,r.a.createElement(m,null),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"JMenu"},r.a.createElement(b,null)),r.a.createElement("div",{className:"JContent"},r.a.createElement(A.c,null,r.a.createElement(A.a,{exact:!0,path:"/",component:function(){return r.a.createElement(g,null)}}),r.a.createElement(A.a,{exact:!0,path:"/month",component:function(){return r.a.createElement(y,null)}}),r.a.createElement(A.a,{exact:!0,path:"/documents",component:function(){return r.a.createElement(D,null)}})))))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.939d1741.chunk.js.map